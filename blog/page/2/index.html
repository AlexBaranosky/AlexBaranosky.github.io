
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>My Octopress Blog</title>
  <meta name="author" content="Your Name">

  
  <meta name="description" content="In Scala we’re quite familiar with the built in Monads:&nbsp;OptionListEither Left ProjectionEither Right ProjectionThere are other cool things you &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://AlexBaranosky.github.io/blog/page/2">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="My Octopress Blog" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">My Octopress Blog</a></h1>
  
    <h2>A blogging framework for hackers.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:AlexBaranosky.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/10/05/scala-writer-monad/">A Scala Writer Monad</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-10-05T20:00:00-07:00" pubdate data-updated="true">Oct 5<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
<div><br /><span style="background-color: transparent; color: black; font-family: Arial; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline;">In  Scala we’re quite familiar with the built in Monads:&nbsp;</span></div><ul style="margin-left: 1.5em;"><li style="color: black;"><span style="background-color: transparent; color: black; font-family: Arial; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline;">Option</span></li><li style="color: black;"><span style="background-color: transparent; color: black; font-family: Arial; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline;">List</span></li><li style="color: black;"><span style="background-color: transparent; color: black; font-family: Arial; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline;">Either Left Projection</span></li><li style="color: black;"><span style="background-color: transparent; color: black; font-family: Arial; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline;">Either Right Projection</span></li></ul><div></div><div><span style="background-color: transparent; color: black; font-family: Arial; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline;">There are other  cool things you can do with the Monad pattern, though, one of which is termed the  Writer monad.</span><br /><span style="background-color: transparent; color: black; font-family: Arial; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline;"></span></div><div><br /><span style="background-color: transparent; color: black; font-family: Arial; font-style: italic; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline;">“This  data type represents logging in a pure functional environment where you  maintain compositionality of your code (i.e. no side-effects) and also,  brevity of code.” <span style="font-style: normal;">&nbsp;</span></span></div><div></div><span style="background-color: transparent; color: black; font-family: Arial; font-style: italic; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline;"><span style="font-style: normal;">&#8211; <a href="http://blog.tmorris.net/the-writer-monad-using-scala-example/"> http://blog.tmorris.net/the-writer-monad-using-scala-example/</a></span></span><br /><br /><span style="font-size: large;"><span style="background-color: transparent; color: black; font-family: Arial; font-style: normal; font-variant: normal; font-weight: bold; text-decoration: none; vertical-align: baseline;">Writer Monad 0.1</span></span><br /><br /><script src="https://gist.github.com/1266102.js">  </script><br /><span style="font-size: large;"><span style="background-color: transparent; color: black; font-family: Arial; font-style: normal; font-variant: normal; font-weight: bold; text-decoration: none; vertical-align: baseline;">There&#8217;s a Problem. It’s not generic. Let&#8217;s make the value type generic.</span></span><br /><br /><script src="https://gist.github.com/1266120.js">  </script><br /><span style="font-size: large;"><span style="background-color: transparent; color: black; font-family: Arial; font-style: normal; font-variant: normal; font-weight: bold; text-decoration: none; vertical-align: baseline;">But it only works with Strings&#8230;</span></span><br /><br /><span style="font-size: large;"><span style="background-color: transparent; color: black; font-family: Arial; font-style: normal; font-variant: normal; font-weight: bold; text-decoration: none; vertical-align: baseline;">Introducing the Typeclass pattern</span></span><br /><br /><script src="https://gist.github.com/1266126.js">  </script><br /><span style="font-size: large;"><span style="background-color: transparent; color: black; font-family: Arial; font-style: normal; font-variant: normal; font-weight: bold; text-decoration: none; vertical-align: baseline;">Our new version still works</span></span><br /><script src="https://gist.github.com/1266130.js">  </script><br /><span style="font-size: large;"><span style="background-color: transparent; color: black; font-family: Arial; font-style: normal; font-variant: normal; font-weight: bold; text-decoration: none; vertical-align: baseline;">Why didn’t we just extend String with a trait?</span></span><br /><div dir="ltr"><div><div dir="ltr"><div><div dir="ltr"><div></div></div><span style="background-color: transparent; color: black; font-family: Arial; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline;">Notice  we could have implemented this using traits, and specified in the type  signature that type D of diary had to extend Monoid. &nbsp;</span></div><div></div><div><span style="background-color: transparent; color: black; font-family: Arial; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline;">Had we done that,  we would have needed to own the String class (which we don’t have access  to) so it could extend trait Monoid, or we would have had to extend it  manually at run-time.</span></div><div></div></div></div></div><br /><script src="https://gist.github.com/1266134.js">  </script><br /><span style="font-size: large;"><span style="background-color: transparent; color: black; font-family: Arial; font-style: normal; font-variant: normal; font-weight: bold; text-decoration: none; vertical-align: baseline;">Watch how using the typeclass pattern made it simple to use other classes as the ‘diary’ for our Writer</span></span><br /><br /><script src="https://gist.github.com/1266137.js">  </script><br /><span style="font-size: large;"><span style="background-color: transparent; color: black; font-family: Arial; font-style: normal; font-variant: normal; font-weight: bold; text-decoration: none; vertical-align: baseline;">What we learned</span></span><br /><div dir="ltr"><div style="font-weight: bold;"><div dir="ltr"><div style="color: black; font-size: 1.3em;"></div><div style="color: black; font-size: 1.3em;"><span style="background-color: transparent; color: black; font-family: Arial; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline;">We could get our Writer to work with a 3rd party class without needing to change either the Writer or the StringBuilder code.</span><br /><br /><span style="background-color: transparent; color: black; font-family: Arial; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline;">This Writer pattern can be used with anything that starts from nothing (zero) and can be built up piece by piece (diary). In essence Writer Monad is a sort of immutable, functional Builder pattern. </span><br /><br /></div><div style="color: black; font-size: 1.3em;"></div><div style="color: black; font-size: 1.3em;"><span style="background-color: transparent; color: black; font-family: Arial; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline;">We  saw that we&#8217;re not limited to the monads Scala comes packaged with.&nbsp; We  can use our own monads to define computational contexts to suit our  code&#8217;s unique needs.</span></div><div style="color: black; font-size: 1.3em;"><span style="background-color: transparent; color: black; font-family: Arial; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline;"><br clear="none" /></span></div></div><span style="font-size: large;"><span style="background-color: transparent; color: black; font-family: Arial; font-style: normal; font-variant: normal; font-weight: bold; text-decoration: none; vertical-align: baseline;">Writer Monad Materials </span></span></div><div style="font-weight: bold;"></div><div style="font-weight: bold;"><span style="background-color: transparent; color: black; font-family: Arial; font-style: italic; font-variant: normal; text-decoration: none; vertical-align: baseline;">Learn You a Haskell for Great Good:<span style="font-weight: normal;"> </span></span><span style="background-color: transparent; color: black; font-family: Arial; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline;"></span><br /><a href="http://learnyouahaskell.com/for-a-few-monads-more#writer" style="font-weight: normal;"><span style="background-color: transparent; color: #000099; font-family: Arial; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: underline; vertical-align: baseline;">http://learnyouahaskell.com/for-a-few-monads-more#writer</span></a><span style="background-color: transparent; color: black; font-family: Arial; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline;"></span><br /><span style="background-color: transparent; color: black; font-family: Arial; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline;"></span><br /><span style="background-color: transparent; color: black; font-family: Arial; font-style: italic; font-variant: normal; font-weight: bold; text-decoration: none; vertical-align: baseline;">Scalaz Writer: </span><span style="background-color: transparent; color: black; font-family: Arial; font-style: normal; font-variant: normal; font-weight: bold; text-decoration: none; vertical-align: baseline;"></span><br /><a href="http://scalaz.github.com/scalaz/scalaz-2.9.0-1-6.0/doc.sxr/scalaz/Writer.scala.html"><span style="background-color: transparent; color: black; font-family: Arial; font-style: normal; font-variant: normal; font-weight: normal; text-decoration: none; vertical-align: baseline;">http://scalaz.github.com/scalaz/scalaz-2.9.0-1-6.0/doc.sxr/scalaz/Writer.scala.html</span></a></div></div></div>
<h2>Comments</h2>
<div class='comments'>
<div class='comment'>
<div class='author'>Dombou</div>
<div class='content'>
None of this code works. There&#39;s also quite a few syntax errors.</div>
</div>
<div class='comment'>
<div class='author'>ExternalReality</div>
<div class='content'>
I learn something new everyday!</div>
</div>
</div>
</div>
  
  


    </article>
  
  <div class="pagination">
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/08/17/a-mathematical-jaunt-via-san-mateo/">A Mathematical Jaunt via San Mateo Parking Meters</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/08/08/io-as-data/">IO as Data</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/07/28/the-evolution-of-macro/">The Evolution of a Macro</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/12/26/slamhound-130-cleaning-up-all-your/">Slamhound 1.3.0 - Cleaning Up All Your Namespaces</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/12/02/reducing-complexity/">Reducing Complexity</a>
      </li>
    
  </ul>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Your Name -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
